<!--index-->
<template name="dental_specialPayment">
    <div class="row">
        <div class="col-md-9">
            <p style="margin-bottom: 10px">
                <button type="submit" class="btn btn-primary insert">{{fa "plus"}} Add New</button>
            </p>
            {{> tabular table=Dental.TabularTable.SpcaialPayment selector=selector class="table table-striped table-bordered table-condensed table-hover"}}
        </div>
        <div class="col-md-3">
            {{> dental_registerInfo register}}
        </div>
    </div>
</template>

<!--Action-->

<template name="dental_specialPaymentAction">
    {{#tabularAction}}
        <li><a href="#" class="update">{{fa "pencil"}} Update</a></li>
        <li><a href="#" class="remove">{{fa "remove"}} Remove</a></li>
        <li><a href="#" class="show">{{fa "eye"}} Show</a></li>
        <li role="separator" class="divider"></li>
        <li><a style="cursor: pointer" class="specialPaymentPrintAction">{{fa "print"}} Print</a></li>
    {{/tabularAction}}
</template>

<!--Insert-->
<template name="dental_specialPaymentInsert">
    {{#autoForm collection=Dental.Collection.SpecialPayment id="dental_specialPaymentInsert" type="insert"}}
        <div class="row">
            <div class="col-md-12">

                <div class="form-group{{#if afFieldIsInvalid name='staffId'}} has-error{{/if}}" data-required="true">
                    <label class="control-label" for="staffId">Staff</label>

                    <div class="input-group  select2-bootstrap-append">
                        {{> afFieldInput name='staffId' class="staffId"}}
                        <span class="input-group-btn">
                            <a href="#" class="staffAddon btn btn-default">
                                {{fa "plus"}}
                            </a>
                        </span>
                    </div>
                    {{#if afFieldIsInvalid name='staffId'}}
                        <span class="help-block">{{afFieldMessage name='staffId'}}</span>
                    {{/if}}
                </div>

                {{> afQuickField name="patientId" type="hidden" value=patientId}}
                {{> afQuickField name="specialRegisterId"  type="hidden" value=_id}}

                {{> afQuickField name="paymentDate"}}
                {{> afQuickField name="paymentMethod" class="paymentMethod"}}

                <div class="form-group{{#if afFieldIsInvalid name='dueAmount'}} has-error{{/if}}">
                    <label class="control-label" for="dueAmount">Due Amount</label>

                    <div class="input-group">
                        {{> afFieldInput name='dueAmount' value=total class="dueAmount" readonly=true}}
                        <span class="input-group-addon">USD</span>
                    </div>
                    {{#if afFieldIsInvalid name='dueAmount'}}
                        <span class="help-block">{{afFieldMessage name='dueAmount'}}</span>
                    {{/if}}
                </div>

                <!--<div class="form-group{{#if afFieldIsInvalid name='paidAmount'}} has-error{{/if}}">-->
                    <!--<label class="control-label" for="paidAmount">Paid Amount</label>-->

                    <!--<div class="input-group">-->
                        {{> afFieldInput name='paidAmount' type="hidden" value=total class="paidAmount" readonly=true}}
                        <!--<span class="input-group-addon">USD</span>-->
                    <!--</div>-->
                    <!--{{#if afFieldIsInvalid name='paidAmount' class="paidAmount"}}-->
                        <!--<span class="help-block">{{afFieldMessage name='paidAmount'}}</span>-->
                    <!--{{/if}}-->
                <!--</div>-->

                <!--<div class="form-group{{#if afFieldIsInvalid name='balance'}} has-error{{/if}}">-->
                    <!--<label class="control-label" for="balance">Balance</label>-->

                    <!--<div class="input-group">-->
                        {{> afFieldInput name='balance' type="hidden" value=0 class="balance" readonly=true}}
                        <!--<span class="input-group-addon">USD</span>-->
                    <!--</div>-->
                    <!--{{#if afFieldIsInvalid name='paidAmount' class="balance"}}-->
                        <!--<span class="help-block">{{afFieldMessage name='balance'}}</span>-->
                    <!--{{/if}}-->
                <!--</div>-->

                {{> afQuickField name="des"}}
            </div>
        </div>

        <button type="submit" class="btn btn-primary">{{fa "floppy-o"}} Save</button>
        <button type="submit" class="btn btn-info" id="saveAndPrint">{{fa "floppy-o"}} Save & Print</button>
        <button type="reset" class="btn btn-default">{{fa "refresh"}} Reset</button>
    {{/autoForm}}
</template>

<!--Update-->
<template name="dental_specialPaymentUpdate">
    {{#autoForm collection=Dental.Collection.SpecialPayment id="dental_specialPaymentUpdate" doc=this type="update"}}
        <div class="row">
            <div class="col-md-12">

                <div class="form-group{{#if afFieldIsInvalid name='staffId'}} has-error{{/if}}" data-required="true">
                    <label class="control-label" for="staffId">Staff</label>

                    <div class="input-group  select2-bootstrap-append">
                        {{> afFieldInput name='staffId' class="staffId"}}
                        <span class="input-group-btn">
                            <a href="#" class="staffAddon btn btn-default">
                                {{fa "plus"}}
                            </a>
                        </span>
                    </div>
                    {{#if afFieldIsInvalid name='staffId'}}
                        <span class="help-block">{{afFieldMessage name='staffId'}}</span>
                    {{/if}}
                </div>

                {{> afQuickField name="patientId" type="hidden"}}
                {{> afQuickField name="specialRegisterId"  type="hidden"}}

                {{> afQuickField name="paymentDate" readonly=true}}
                {{> afQuickField name="paymentMethod" class="paymentMethod"}}


                <div class="form-group{{#if afFieldIsInvalid name='dueAmount'}} has-error{{/if}}">
                    <label class="control-label" for="dueAmount">Due Amount</label>

                    <div class="input-group">
                        {{> afFieldInput name='dueAmount' class="dueAmount" value=total readonly=true}}
                        <span class="input-group-addon">USD</span>
                    </div>
                    {{#if afFieldIsInvalid name='dueAmount'}}
                        <span class="help-block">{{afFieldMessage name='dueAmount'}}</span>
                    {{/if}}
                </div>

                <!--<div class="form-group{{#if afFieldIsInvalid name='paidAmount'}} has-error{{/if}}">-->
                    <!--<label class="control-label" for="paidAmount">Paid Amount</label>-->

                    <!--<div class="input-group">-->
                        {{> afFieldInput name='paidAmount' type="hidden" class="paidAmount" value=total readonly=true}}
                        <!--<span class="input-group-addon">USD</span>-->
                    <!--</div>-->
                    <!--{{#if afFieldIsInvalid name='paidAmount' class="paidAmount"}}-->
                        <!--<span class="help-block">{{afFieldMessage name='paidAmount'}}</span>-->
                    <!--{{/if}}-->
                <!--</div>-->

                <!--<div class="form-group{{#if afFieldIsInvalid name='balance'}} has-error{{/if}}">-->
                    <!--<label class="control-label" for="balance">Balance</label>-->

                    <!--<div class="input-group">-->
                        {{> afFieldInput name='balance' type="hidden" class="balance" readonly=true}}
                        <!--<span class="input-group-addon">USD</span>-->
                    <!--</div>-->
                    <!--{{#if afFieldIsInvalid name='paidAmount' class="balance"}}-->
                        <!--<span class="help-block">{{afFieldMessage name='balance'}}</span>-->
                    <!--{{/if}}-->
                <!--</div>-->

                {{> afQuickField name="des"}}

            </div>
        </div>

        <button type="submit" class="btn btn-primary">{{fa "floppy-o"}} Save</button>
        <button type="reset" class="btn btn-default">{{fa "refresh"}} Reset</button>
    {{/autoForm}}
</template>

<!--Show-->
<template name="dental_specialPaymentShow">
    <dl class="dl-horizontal">
        <dt>ID</dt>
        <dd>{{_id}}</dd>
        <dt>Payment Date</dt>
        <dd>{{paymentDate}}</dd>
        <dt>Special Register ID</dt>
        <dd>{{specialRegisterId}}</dd>
        <dt>Staff</dt>
        <dd>{{staffId}}</dd>
        <dt>Due Amount</dt>
        <dd>{{dueAmount}}</dd>
        <dt>Paid Amount</dt>
        <dd>{{paidAmount}}</dd>
        <dt>Balance</dt>
        <dd>{{balance}}</dd>
        <dt>Description</dt>
        <dd>{{{des}}}</dd>
        <dt>Status</dt>
        <dd>{{status}}</dd>
    </dl>
</template>
